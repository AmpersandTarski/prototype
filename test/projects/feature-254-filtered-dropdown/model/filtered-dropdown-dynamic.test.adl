CONTEXT FilteredDropDownExample

REPRESENT Name TYPE ALPHANUMERIC
REPRESENT Status TYPE ALPHANUMERIC

RELATION name[Employee*Name] [UNI]
RELATION eligible[Project*Employee]
RELATION projectMember[Project*Employee]
RELATION projectMaster[Project*Employee] [UNI]
RELATION projectFounder[Project*Employee] [TOT]
RELATION projectResponsible[Project*Employee] [UNI,TOT]

POPULATION name[Employee*Name] CONTAINS
  [ ("m1", "Jan Jansen")
  , ("m2", "Piet Peters")
  , ("m3", "Marie Bakker")
  , ("m4", "Klaas Klaasen")
  , ("m5", "Anna Annasson")
  ]

-- Desired filtering: eligible employees only
POPULATION eligible[Project*Employee] CONTAINS
  [ ("project 1", "m1")
  , ("project 2", "m2")
  , ("project 1", "m4")
  , ("project 2", "m3")
  , ("project 1", "m5")
  , ("project 3", "m5")
  , ("project 2", "m5")
  ]

POPULATION projectMember[Project*Employee] CONTAINS
  [ ("project 1", "m1")
  , ("project 1", "m2")
  , ("project 1", "m4")
  , ("project 1", "m5")
  ]

POPULATION projectFounder[Project*Employee] CONTAINS
  [ ("project 1", "m1")
  , ("project 3", "m5")
  , ("project 2", "m5")
  ]

POPULATION projectResponsible[Project*Employee] CONTAINS
  [ ("project 1", "m3")
  , ("project 3", "m5")
  , ("project 2", "m5")
  ]


-- I want the user to pick project members in the relation `projectMember`, using `eligible` to select from.

INTERFACE "Box-Filtered-Dropdown tests" : "_SESSION"[SESSION] cRUd BOX<TABS>
[ "Default": V[SESSION*Project] cRUd BOX<FORM>
  [ "Project ID" : I cRUd
  , "Section Header" : TXT "Default Dropdowns"
    , fieldPreview : projectMember cRud  -- preview projectMember for testing purposes
    , selectPreview : eligible cRud  -- preview the selection for testing purposes
  , "1. Assign an employee (cRUD)" : I cRUD BOX<FILTEREDDROPDOWN>
     [ field: projectMember
     , select : eligible
     ]
  , "2. Assign an employee (cRUd)" : I cRUd BOX<FILTEREDDROPDOWN>
     [ field : projectMember
     , select : eligible
     ]
  , "3. Assign an employee (cRuD)" : I cRuD BOX<FILTEREDDROPDOWN>
     [ field : projectMember
     , select : eligible
     ]
  , "4. Assign an employee (cRud)" : I cRud BOX<FILTEREDDROPDOWN>
     [ field : projectMember
     , select : eligible
     ]
       , "5. Assign an employee (CRud)" : I CRud BOX<FILTEREDDROPDOWN>
          [ field : projectMember
          , select : eligible
          ]
       , "6. Assign an employee (CRUd)" : I CRUd BOX<FILTEREDDROPDOWN>
          [ field : projectMember
          , select : eligible
          ]
       , "7. Assign an employee (CRuD)" : I CRuD BOX<FILTEREDDROPDOWN>
          [ field : projectMember
          , select : eligible
          ]
       , "8. Assign an employee (CRUD)" : I CRUD BOX<FILTEREDDROPDOWN>
          [ field : projectMember
          , select : eligible
          ]
  ]
]

  ENDCONTEXT