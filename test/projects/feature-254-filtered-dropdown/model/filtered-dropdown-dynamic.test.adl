CONTEXT FilteredDropDownExample

RELATION name[Employee*Name] [UNI]
RELATION status[Employee*Status] [UNI]
RELATION projectMember[Project*Employee]

POPULATION projectMember[Project*Employee] CONTAINS
  [ ("project 1", "m1")
  , ("project 2", "m1")
  , ("project 2", "m2")
  ]

POPULATION name[Employee*Name] CONTAINS
  [ ("m1", "Jan Jansen")
  , ("m2", "Piet Peters") 
  , ("m3", "Marie Bakker")
  , ("m4", "Klaas Klaasen")
  , ("m5", "Anna Annasson")
  ]

POPULATION status[Employee*Status] CONTAINS
  [ ("m1", "eligible")
  , ("m2", "on leave")
  , ("m4", "eligible") 
  , ("m3", "fired")
  , ("m5", "eligible")
  ]

{-  -- Optional: VIEW, if you  don't want to see "m1", "m2" but "Jan Jansen" and "Piet Peters"
VIEW Employeelabel : Employee DEFAULT
  { "naam" : name }
ENDVIEW
 -}

INTERFACE DropdownsDynamicDefault : "_SESSION"[SESSION]; V[SESSION*Project] cRUd BOX<FORM>
  [ "Project ID" : I
    , "Assign an employee" : I[Project] cRUd  BOX<FILTEREDDROPDOWN>
         [ content : projectMember
         , select : V[Project*Status];"eligible";status~   -- The drop down menu only shows the three eligible employees
         ]
  
  ]


ENDCONTEXT